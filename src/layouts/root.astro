---
import SiteHeader from "@components/site-header.astro";
import Footer from "@components/footer.astro";
import { getEntry } from "astro:content";
import PageSeo from "@components/page-seo.astro";
import { ViewTransitions } from "astro:transitions";

import "../styles/globals.css";

const navigation = await getEntry("pages", "mainNav");

const {
  title,
  description,
  ogTitle,
  ogType,
  ogImage,
  ogUrl,
  includeTransitions,
} = Astro.props.frontmatter || Astro.props;
---

<style is:global>
  /* Unscoped, delivered as-is to the browser.
     Applies to all <h1> tags on your site. */

  .wc-scrollbar {
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: oklch(55.55% 0 0 / 40%) transparent; /* Firefox */

    scrollbar-gutter: stable;
    &::-webkit-scrollbar {
      @apply w-3 h-3;
    }
    &::-webkit-scrollbar-track {
      @apply bg-transparent;
    }
    &::-webkit-scrollbar-thumb {
      @apply rounded-[10px];
    }
    &:hover::-webkit-scrollbar-thumb {
      border: 3px solid transparent;
      background-color: var(--tw-shadow-color);
      background-clip: content-box;
      @apply shadow-neutral-500/20 hover:shadow-neutral-500/40;
    }

    @media (max-width: 767px) {
      .wc-container & {
        scrollbar-gutter: auto;
      }
    }

    /* Hide scrollbar */
    .no-scrollbar {
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */

      &::-webkit-scrollbar {
        @apply hidden; /* Chrome, Safari and Opera */
      }
    }
  }
</style>
<html lang='en'>
  <head>
    <PageSeo
      title={title}
      description={description}
      ogTitle={ogTitle}
      ogType={ogType}
      ogImage={ogImage}
      ogUrl={ogUrl}
    />
    {includeTransitions && <ViewTransitions />}
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' href='/favicon.ico' />
    <meta name='generator' content={Astro.generator} />
  </head>
  <body class='relative flex min-h-screen flex-col antialiased bg-primaryLight'>
    <SiteHeader navigation={navigation} />
    <slot />
    <Footer />
  </body>
</html>
